import { adamwathan } from '@/authors'
import card from './2023-03-24-14-17-37.png'
import { SnippetGroup } from '@/components/SnippetGroup'

export const meta = {
  title: 'Tailwind CSS v3.3: ESM support, logical properties, and one more color',
  description: `It's been months in the making but I'm excited to finally release our next website template — Protocol, a beautiful starter kit for building amazing API reference websites.`,
  date: '2023-03-27T15:00:00.000Z',
  authors: [adamwathan],
}

Something about Tailwind CSS v3.3 being released woohoo.

Probably an image here!

<div className="my-8">
  <img src={card.src} alt="Tailwind CSS v3.3"/>
</div>

Tailwind CSS v3.2 is here with an absolutely _massive_ amount of new stuff, including support for dynamic breakpoints, multiple config files in a single project, nested groups, parameterized variants, container queries, and more.

As always check out the [release notes](https://github.com/tailwindlabs/tailwindcss/releases/tag/v3.2.0) for every nitty-gritty fix and improvement, but here's the highlight reel:


Writing this sucks:

- [ESM and TypeScript support](#esm-and-typescript-support)
- [Extended color palette for darker darks](#extended-color-palette-for-darker-darks)
- [Simplified RTL support with logical properties](#simplified-rtl-support-with-logical-properties)
- [Line-clamp out of the box](#line-clamp-out-of-the-box)
- [New line-height shorthand for font-size utilities](#new-line-height-shorthand-for-font-size-utilities)
- [CSS variables without the var()](#css-variables-without-the-var)

Wish I could just write:

- [ARIA attribute variants](#aria-attribute-variants)
- [Data attribute variants](#data-attribute-variants)
- [Max-width and dynamic breakpoints](#max-width-and-dynamic-breakpoints)
- [Dynamic `group-*` and `peer-*` variants](#dynamic-group-and-peer-variants)
- [Dynamic variants with `matchVariant`](#dynamic-variants-with-matchvariant)
- [Nested `group` and multiple `peer` support using variant modifiers](#nested-group-and-multiple-peer-support-using-variant-modifiers)
- [Container queries](#container-queries)

Upgrade your projects by installing the latest version of `tailwindcss` from npm:

```sh
npm install -D tailwindcss@latest
```

Or play with the new features in [Tailwind Play](https://play.tailwindcss.com) where you can try everything out instantly, right in the browser.

---

<h2 id="extended-color-palette-for-darker-darks">Extended color palette for darker darks</h2>

- Screenshot (or real demo?) some examples of where this is actually useful, show before and after
  - Sexy dark UI
  - Colored background with colored headline

<h2 id="esm-and-typescript-support">ESM and TypeScript support</h2>

- Show an example config file, maybe tabbed example with all three formats?
- Talk about `init` improvements with `--esm` and `--ts` flag, and detecting project type?
- Talk about how it works? Frame it as "we've hesitated to implement because of this but you wanted it so here it is"

```js {{ filename: "tailwind.config.js", style: "framed" }}
/** @type {import('tailwindcss').Config} */
export default {
  content: [],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

```js {{ filename: "tailwind.config.ts", style: "framed" }}
import type { Config } from 'tailwindcss'

export default {
  content: [],
  theme: {
    extend: {},
  },
  plugins: [],
} satisfies Config
```


<h2 id="simplified-rtl-support-with-logical-properties">Simplified RTL support with logical properties</h2>

- Demo of `ps-4` or something, showing the LTR and RTL design side by side
- Show `pl-4 rtl:pr-4` as the old solution?

<Example>
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-10 max-w-lg mx-auto">
    <div dir="ltr">
      <p class="mb-4 text-sm font-medium">Left-to-right</p>
      <div class="group flex items-center">
        <img class="shrink-0 h-12 w-12 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" />
        <div class="ms-3">
          <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900 dark:text-slate-300 dark:group-hover:text-white">Tom Cook</p>
          <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700 dark:group-hover:text-slate-300">Director of Operations</p>
        </div>
      </div>
    </div>
    <div dir="rtl">
      <p class="mb-4 text-sm font-medium">Right-to-left</p>
      <div class="group flex items-center">
        <img class="shrink-0 h-12 w-12 rounded-full" src="https://images.unsplash.com/photo-1563833717765-00462801314e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" />
        <div class="ms-3">
          <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900 dark:text-slate-300 dark:group-hover:text-white">تامر كرم</p>
          <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700 dark:group-hover:text-slate-300">الرئيس التنفيذي</p>
        </div>
      </div>
    </div>
  </div>
</Example>

```diff-html
  <div class="group flex items-center">
    <img class="shrink-0 h-12 w-12 rounded-full" src="..." alt="" />
-   <div class="ltr:ml-3 rtl:mr-3">
+   <div class="ms-3">
      <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900" dark-class="text-sm font-medium text-slate-300 group-hover:text-white">...</p>
      <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700" dark-class="text-sm font-medium text-slate-500 group-hover:text-slate-300">...</p>
    </div>
  </div>
```

<h2 id="line-clamp-out-of-the-box">Line-clamp out of the box</h2>

<!-- ![](./2023-03-22-16-32-33.png) -->

- Demo with blog section thing on top, code below
- Mention removing it from your config obviously if you have it installed

<Example p="none">
  <div class="px-4 sm:px-0">
    <div class="mx-auto max-w-sm bg-white p-8 text-sm leading-6 text-slate-700 shadow-xl dark:bg-slate-800 dark:text-slate-400 sm:text-base sm:leading-7">
      <article>
        <div class="max-w-xl">
          <time datetime="2020-03-16" class="block text-sm leading-6 text-gray-600">Mar 10, 2020</time>
          <h2 class="mt-2 text-lg font-semibold text-gray-900">
            Boost your conversion rate
          </h2>
          <p class="line-clamp-3 mt-4 text-sm leading-6 text-gray-600">Nulla dolor velit adipisicing duis excepteur esse in duis nostrud occaecat mollit incididunt deserunt sunt. Ut ut sunt laborum ex occaecat eu tempor labore enim adipisicing minim ad. Est in quis eu dolore occaecat excepteur fugiat dolore nisi aliqua fugiat enim ut cillum. Labore enim duis nostrud eu. Est ut eiusmod consequat irure quis deserunt ex. Enim laboris dolor magna pariatur. Dolor et ad sint voluptate sunt elit mollit officia ad enim sit consectetur enim.</p>
        </div>
        <div class="mt-4 flex gap-x-2.5 text-sm font-semibold leading-6 text-gray-900">
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" class="h-6 w-6 flex-none rounded-full bg-gray-50" />
          Lindsay Walton
        </div>
      </article>
    </div>
  </div>
</Example>

```html
  <article>
    <div>
      <time datetime="2020-03-16" class="block text-sm/6 text-gray-600">Mar 10, 2020</time>
      <h2 class="mt-2 text-lg font-semibold text-gray-900">Boost your conversion rate</h2>
>     <p class="**line-clamp-3** mt-4 text-sm/6 text-gray-600">
        Illo sint voluptas. Error voluptates culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus unde. Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta laboris incididunt.
      </p>
    </div>
    <div class="mt-4 flex gap-x-2.5 text-sm font-semibold leading-6 text-gray-900">
      <img src="..." class="h-6 w-6 flex-none rounded-full bg-gray-50" />
      Lindsay Walton
    </div>
  </article>
```


<h2 id="new-line-height-shorthand-for-font-size-utilities">New line-height shorthand for font-size utilities</h2>

- Just a code demo, show the diff between the old way and new way
- While ago introduced color opacity modifier, got to thinking where else could we improve the authoring experience using modifiers?
- Explain found ourselves literally never changing the line-height without changing the font-size, so why not change them together and use a shorter syntax
- Inspired by `font` property syntax (`font: small-caps bold 24px/1 sans`)

<Example>
  <div class="flex flex-col gap-8">
    <div>
      <span class="font-medium text-sm text-slate-500 font-mono mb-3 dark:text-slate-400">text-base/6</span>
      <p class="text-base/6 text-slate-900 dark:text-slate-200">
        So I started to walk into the water. I won't lie to you boys, I was terrified. But I pressed on, and as I made my way past the breakers a strange calm came over me. I don't know if it was divine intervention or the kinship of all living things but I tell you Jerry at that moment, I <em>was</em> a marine biologist.
      </p>
    </div>
    <div>
      <span class="font-medium text-sm text-slate-500 font-mono mb-3 dark:text-slate-400">text-base/7</span>
      <p class="text-base/7 text-slate-900 dark:text-slate-200">
        So I started to walk into the water. I won't lie to you boys, I was terrified. But I pressed on, and as I made my way past the breakers a strange calm came over me. I don't know if it was divine intervention or the kinship of all living things but I tell you Jerry at that moment, I <em>was</em> a marine biologist.
      </p>
    </div>
    <div>
      <span class="font-medium text-sm text-slate-500 font-mono mb-3 dark:text-slate-400">text-base/loose</span>
      <p class="text-base/loose text-slate-900 dark:text-slate-200">
        So I started to walk into the water. I won't lie to you boys, I was terrified. But I pressed on, and as I made my way past the breakers a strange calm came over me. I don't know if it was divine intervention or the kinship of all living things but I tell you Jerry at that moment, I <em>was</em> a marine biologist.
      </p>
    </div>
  </div>
</Example>


```html
<p class="**text-base/6** ...">So I started to walk into the water...</p>
<p class="**text-base/7** ...">So I started to walk into the water...</p>
<p class="**text-base/loose** ...">So I started to walk into the water...</p>
```

You can use any value defined in your [line-height scale](/docs/line-height), or use arbitrary values if you need to deviate from your design tokens.

```html
<p class="text-sm**/[17px]** ..."></p>
```

<h2 id="css-variables-without-the-var">CSS variables without the var()</h2>

- Code demo showing the syntax

```html
<div class="bg-[${company.brandColor}]">

<div style="--brand-color: ${company.brandColor}; --brand-hover-color: ${company.brandHoverColor}" class="bg-[--brand-color] hover:bg-[--brand-hover-color]">
```

<h2 id="configure-font-variation-settings-for-custom-font-families">Configure <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">font-variation-settings</code> for custom font families</h2>

- Example Inter Display
- Explain wtf `font-variation-settings` even is, give example of how Inter kinda ships multiple fonts in one file by taking advantage of this feature
- Now any time you use the `font-sans` utility, your font-variation-settings configuration will automatically be applied.

```
module.exports = {
  theme: {
    fontFamily: {
      sans: [
        'Inter var, sans-serif',
        {
          fontFeatureSettings: '"cv11", "ss01"',
          fontVariationSettings: '"opsz" 32',
        },
      ],
    },
  },
}
```

<h2 id="more-flexible-variant-stacking-with-is">More flexible variant stacking with <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">:is(...)</code></h2>

- Explain issue, how couldn't put `dark` and `dir="rtl"` on same root element
- Explain how `:is()` works, show what we've changed
- Explain that as a bonus we've also applied the same improvements to the `important: "selector"` strategy

## New utilities

### Hyphens utilities

- Demo from docs

### Caption-side utilities

- Demo from docs

### List-style-image utilities

- Demo from docs (checkmark?)
