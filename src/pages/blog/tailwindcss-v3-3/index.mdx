import { adamwathan } from '@/authors'
import card from './card.jpg'
import { SnippetGroup } from '@/components/SnippetGroup'

export const meta = {
  title: 'Tailwind CSS v3.3: Extended color palette, ESM support, logical properties, and more',
  description: `It's been months in the making but I'm excited to finally release our next website template — Protocol, a beautiful starter kit for building amazing API reference websites.`,
  date: '2023-03-27T15:00:00.000Z',
  authors: [adamwathan],
  image: card,
}

<!--excerpt-->

Tailwind CSS v3.3 is here — bringing a bunch of new features people have been asking for forever, and a bunch of new stuff you didn't even know you wanted.

<!--/excerpt-->

<div className="my-8">
  <img src={card.src} alt="Tailwind CSS v3.3"/>
</div>

Tailwind CSS v3.3 is here — bringing a bunch of new features people have been asking for forever, and a bunch of new stuff you didn't even know you wanted.

- [Extended color palette for darker darks:](#extended-color-palette-for-darker-darks) New darker 950 shades for every color.
- [ESM and TypeScript support:](#esm-and-typescript-support) Write your config file using ESM or TypeScript.
- [Simplified RTL support with logical properties:](#simplified-rtl-support-with-logical-properties) Build layouts that adapt to different directions.
- [Line-clamp out of the box:](#line-clamp-out-of-the-box) Truncate multi-line text without a plugin.
- [New line-height modifier:](#new-line-height-shorthand-for-font-size-utilities) Set your font-size and line-height with one class.
- [CSS variables without the var()](#css-variables-without-the-var): New shorthand syntax for arbitrary values.
- [Configurable `font-variation-settings`:](#configure-font-variation-settings-for-custom-font-families) Baked directly into your `font-*` utilities.
- [New `list-style-image` utilities:](#new-list-style-image-utilities) So you can use horrible clip art for bullet points.
- [New `hyphens` utilities:](#new-hyphens-utilities) For fine-tuning hyphenation behavior.
- [New `caption-side` utilities:](#new-caption-side-utilities) Title your tables with style.

That covers the most exciting stuff, but check out the [release notes](https://github.com/tailwindlabs/tailwindcss/releases/tag/v3.2.0) for an exhaustive list of every single little improvement we've made since the last release.

Upgrading your projects is as easy as installing the latest version of `tailwindcss` from npm:

```sh
npm install -D tailwindcss@latest
```

You can also try out all of the new features on [Tailwind Play](https://play.tailwindcss.com), right in your browser.

---

<h2 id="extended-color-palette-for-darker-darks">Extended color palette for darker darks</h2>



- Screenshot (or real demo?) some examples of where this is actually useful, show before and after
  - Sexy dark UI
  - Colored background with colored headline

---

<h2 id="esm-and-typescript-support">ESM and TypeScript support</h2>

Now you can configure Tailwind CSS in ESM, or even in TypeScript:


```js {{ filename: "tailwind.config.js", style: "framed" }}
/** @type {import('tailwindcss').Config} */
export default {
  content: [],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

When you run `npx tailwindcss init`, we'll detect if your project is an ES Module and automatically generate your config file with the right syntax.

You can also generate an ESM config file explicitly by using the `--esm` flag:

```sh
npx tailwindcss init --esm
```

To generate a TypeScript config file, use the `--ts` flag:

```sh
npx tailwindcss init --ts
```

A lot of people assume this is easy because they're writing their own code in ESM already (even if it's being transpiled by their build tool) but it's actually pretty tricky — we literally have to transpile the config file for you on the fly.

It's a bit easier to understand why this has to happen when you think of the TypeScript case, because of course Tailwind is distributed as JavaScript, and it can't magically import an uncompiled TypeScript file.

We're handling this with the wonderful [jiti](https://github.com/unjs/jiti) library under the hood, and using [Sucrase](https://github.com/alangpierce/sucrase) to transpile the code with the best possible performance while keeping the installation footprint small.

---

<h2 id="simplified-rtl-support-with-logical-properties">Simplified RTL support with logical properties</h2>

We've made it possible to style multi-directional websites using our [LTR and RTL variants](https://tailwindcss.com/docs/hover-focus-and-other-states#rtl-support) for a while, but now you can use [logical properties](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties/Basic_concepts) to do most of this styling more easily and automatically.

Using new utilities like `ms-3` and `me-3`, you can style the _start_ and _end_ of an element so that your styles automatically adapt in RTL, instead of writing code like `ltr:ml-3 rtl:mr-3`:

<Example>
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-10 max-w-lg mx-auto">
    <div dir="ltr">
      <p class="mb-4 text-sm font-medium">Left-to-right</p>
      <div class="group flex items-center">
        <img class="shrink-0 h-12 w-12 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" />
        <div class="ms-3">
          <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900 dark:text-slate-300 dark:group-hover:text-white">Tom Cook</p>
          <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700 dark:group-hover:text-slate-300">Director of Operations</p>
        </div>
      </div>
    </div>
    <div dir="rtl">
      <p class="mb-4 text-sm font-medium">Right-to-left</p>
      <div class="group flex items-center">
        <img class="shrink-0 h-12 w-12 rounded-full" src="https://images.unsplash.com/photo-1563833717765-00462801314e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" />
        <div class="ms-3">
          <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900 dark:text-slate-300 dark:group-hover:text-white">تامر كرم</p>
          <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700 dark:group-hover:text-slate-300">الرئيس التنفيذي</p>
        </div>
      </div>
    </div>
  </div>
</Example>

```diff-html
  <div class="group flex items-center">
    <img class="shrink-0 h-12 w-12 rounded-full" src="..." alt="" />
-   <div class="ltr:ml-3 rtl:mr-3">
+   <div class="ms-3">
      <p class="text-sm font-medium text-slate-700 group-hover:text-slate-900" dark-class="text-sm font-medium text-slate-300 group-hover:text-white">...</p>
      <p class="text-sm font-medium text-slate-500 group-hover:text-slate-700" dark-class="text-sm font-medium text-slate-500 group-hover:text-slate-300">...</p>
    </div>
  </div>
```

We've added new logical property utilities for [inset](/docs/top-right-bottom-left), [margin](/docs/margin), [padding](/docs/padding), [border-radius](/docs/border-radius), [scroll-margin](/docs/scroll-margin), and [scroll-padding](/docs/scroll-padding).

Here's a full list of all of the new utilities we've added and what they map to:

| New class      | Properties                                                | Physical counterpart (LTR) |
| -------------- | --------------------------------------------------------- | -------------------------- |
| `start-*`      | `inset-inline-start`                                      | `left-*`                   |
| `end-*`        | `inset-inline-end`                                        | `right-*`                  |
| `ms-*`         | `margin-inline-start`                                     | `ml-*`                     |
| `me-*`         | `margin-inline-end`                                       | `mr-*`                     |
| `ps-*`         | `padding-inline-start`                                    | `pl-*`                     |
| `pe-*`         | `padding-inline-end`                                      | `pr-*`                     |
| `rounded-s-*`  | `border-start-start-radius`<br/>`border-end-start-radius` | `rounded-l-*`              |
| `rounded-e-*`  | `border-start-end-radius`<br/>`border-end-end-radius`     | `rounded-l-*`              |
| `rounded-ss-*` | `border-start-start-radius`                               | `rounded-tl-*`             |
| `rounded-se-*` | `border-start-end-radius`                                 | `rounded-tr-*`             |
| `rounded-ee-*` | `border-end-end-radius`                                   | `rounded-br-*`             |
| `rounded-es-*` | `border-end-start-radius`                                 | `rounded-bl-*`             |
| `border-s-*`   | `border-inline-start-width`                               | `border-l-*`               |
| `border-e-*`   | `border-inline-end-width`                                 | `border-r-*`               |
| `border-s-*`   | `border-inline-start-color`                               | `border-l-*`               |
| `border-e-*`   | `border-inline-end-color`                                 | `border-r-*`               |
| `scroll-ms-*`  | `scroll-margin-inline-start`                              | `scroll-ml-*`              |
| `scroll-me-*`  | `scroll-margin-inline-end`                                | `scroll-mr-*`              |
| `scroll-ps-*`  | `scroll-padding-inline-start`                             | `scroll-pl-*`              |
| `scroll-pe-*`  | `scroll-padding-inline-end`                               | `scroll-pr-*`              |

These should save you a ton of code if you regularly build sites that need to support both LTR and RTL languages, and you can always combine these with the `ltr` and `rtl` variants when you need more control.


---

<h2 id="line-clamp-out-of-the-box">Line-clamp out of the box</h2>

We released our [official line-clamp plugin](https://tailwindcss.com/blog/multi-line-truncation-with-tailwindcss-line-clamp) just over two years ago and even though it uses a bunch of weird deprecated `-webkit-*` stuff, it works in every browser and it's going to work forever, so we decided to just bake it into the framework itself.

<Example p="none">
  <div class="px-4 sm:px-0">
    <div class="mx-auto max-w-sm bg-white p-8 text-sm leading-6 text-slate-700 shadow-xl dark:bg-slate-800 dark:text-slate-400 sm:text-base sm:leading-7">
      <article>
        <div class="max-w-xl">
          <time datetime="2020-03-16" class="block text-sm leading-6 text-gray-600">Mar 10, 2020</time>
          <h2 class="mt-2 text-lg font-semibold text-gray-900">
            Boost your conversion rate
          </h2>
          <p class="line-clamp-3 mt-4 text-sm leading-6 text-gray-600">Nulla dolor velit adipisicing duis excepteur esse in duis nostrud occaecat mollit incididunt deserunt sunt. Ut ut sunt laborum ex occaecat eu tempor labore enim adipisicing minim ad. Est in quis eu dolore occaecat excepteur fugiat dolore nisi aliqua fugiat enim ut cillum. Labore enim duis nostrud eu. Est ut eiusmod consequat irure quis deserunt ex. Enim laboris dolor magna pariatur. Dolor et ad sint voluptate sunt elit mollit officia ad enim sit consectetur enim.</p>
        </div>
        <div class="mt-4 flex gap-x-2.5 text-sm font-semibold leading-6 text-gray-900">
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" class="h-6 w-6 flex-none rounded-full bg-gray-50" />
          Lindsay Walton
        </div>
      </article>
    </div>
  </div>
</Example>

```html
  <article>
    <div>
      <time datetime="2020-03-16" class="block text-sm/6 text-gray-600">Mar 10, 2020</time>
      <h2 class="mt-2 text-lg font-semibold text-gray-900">Boost your conversion rate</h2>
>     <p class="**line-clamp-3** mt-4 text-sm/6 text-gray-600">
        Illo sint voluptas. Error voluptates culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus unde. Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta laboris incididunt.
      </p>
    </div>
    <div class="mt-4 flex gap-x-2.5 text-sm font-semibold leading-6 text-gray-900">
      <img src="..." class="h-6 w-6 flex-none rounded-full bg-gray-50" />
      Lindsay Walton
    </div>
  </article>
```

So when you upgrade to v3.3, you can safely remove the line-clamp plugin if you were using it:

```diff-js tailwind.config.js
  module.exports = {
   // ...
   plugins: [
-   require('@tailwindcss/line-clamp')
   ]
  }
```

Don't let the door hit you in the ass on the way out, plugin.

Check out the new [line-clamp documentation](/docs/line-clamp) to learn more about it all works if you haven't played with it before.

---

<h2 id="new-line-height-shorthand-for-font-size-utilities">New line-height shorthand for font-size utilities</h2>

One thing we've found over years and years of designing beautiful stuff with Tailwind is that we literally _never_ set a line-height without also setting the font-size at the same time.

So inspired by our color opacity modifier syntax, we decided to make it possible to save a few characters by setting them together with a single utility:

```diff-html {{ filename: 'index.html', style: 'framed' }}
-   <p class="**text-lg leading-7** ...">
+   <p class="**text-lg/7** ...">
      So I started to walk into the water. I won't lie to you boys, I was terrified. But
      I pressed on, and as I made my way past the breakers a strange calm came over me.
      I don't know if it was divine intervention or the kinship of all living things but
      I tell you Jerry at that moment, I <em>was</em> a marine biologist.
    </p>
```

You can use any value defined in your [line-height scale](/docs/line-height), or use arbitrary values if you need to deviate from your design tokens:

```html
<p class="text-sm**/[17px]** ..."></p>
```

Check out the [font size documentation](/docs/font-size#setting-the-line-height) for a few more examples.

---

<h2 id="css-variables-without-the-var">CSS variables without the var()</h2>

In the spirit of typing less, we've also made it possible to omit the `var()` when using a CSS variable as an arbitrary value:

```diff-jsx {{ style: 'framed', filename: 'my-component.jsx' }}
  export function MyComponent({ company }) {
    return (
    <div
      style={{
        '--brand-color': ${company.brandColor},
        '--brand-hover-color': ${company.brandHoverColor},
      }}
-     className="bg-[var(--brand-color)] hover:bg-[var(--brand-hover-color)]"
+     className="bg-[--brand-color] hover:bg-[--brand-hover-color]"
    />
    )
  }
```

That's a pretty cool trick right there for using things like `hover:` with styles that come from the database or something by the way.

---

<h2 id="configure-font-variation-settings-for-custom-font-families">Configure <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">font-variation-settings</code> for custom font families</h2>

When using custom fonts, you'll often want to configure things like `font-feature-settings` or `font-variation-settings` to opt-in to specific tweaks the font offers.

We've made it easy to do this for `font-feature-settings` for a while, but now you can do the same thing with `font-variation-settings` by providing a value for it in the sort-of options object you can plop after the font list in your config file:

```js {{ filename: 'tailwind.config.js', style: 'framed' }}
  module.exports = {
    theme: {
      fontFamily: {
        sans: [
          'Inter var, sans-serif',
>         {
>           fontFeatureSettings: '"cv11", "ss01"',
>           fontVariationSettings: '"opsz" 32',
>         },
        ],
      },
    },
  }
```

---

<h2 id="new-list-style-image-utilities">New <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">list-style-image</code> utilities</h2>

- Demo from docs (checkmark?)

---

<h2 id="new-hyphens-utilities">New <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">hyphens</code> utilities</h2>

- Demo from docs

---

<h2 id="new-caption-side-utilities">New <code className="font-[number:inherit] font-[inherit] text-[length:inherit]">caption-side</code> utilities</h2>

- Demo from docs
