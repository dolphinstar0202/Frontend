.generate-text-color-utility(@name; @variant; @color) when (@variant = default) {
  .define-selector(~"text-@{name}"; { color: @color; });
}

.generate-text-color-utility(@name; @variant; @color) when not (@variant = default) {
  .define-selector(~"text-@{name}-@{variant}"; { color: @color; });
}

.generate-text-color-utilities(@color-name; @color-variants; @i: 1) when (@i <= length(@color-variants)) and (length(extract(@color-variants, @i)) = 1) {
  @variant-name: extract(@color-variants, 1);
  @variant-color: extract(@color-variants, 2);

  .generate-text-color-utility(@color-name; @variant-name; @variant-color);
}

.generate-text-color-utilities(@color-name; @color-variants; @i: 1) when (@i <= length(@color-variants)) and (length(extract(@color-variants, @i)) = 2) {
  @variant: extract(@color-variants, @i);
  @variant-name: extract(@variant, 1);
  @variant-color: extract(@variant, 2);

  .generate-text-color-utility(@color-name; @variant-name; @variant-color);
  .generate-text-color-utilities(@color-name; @color-variants; @i + 1);
}

.define-text-color(@color-name; @color-variants) {
    .generate-text-color-utilities(@color-name; @color-variants);
}
